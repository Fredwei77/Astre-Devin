# ğŸš€ Railway æ‰‹åŠ¨éƒ¨ç½²æ­¥éª¤æŒ‡å—

## âœ… å‡†å¤‡å·¥ä½œå·²å®Œæˆ
- Railway CLI å·²å®‰è£… (ç‰ˆæœ¬ 4.12.0)
- é¡¹ç›®æ–‡ä»¶å·²å°±ç»ª (package.json, server.js, railway.json)

## ğŸ“‹ ç°åœ¨è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

### æ­¥éª¤ 1: æ‰“å¼€å‘½ä»¤æç¤ºç¬¦
```cmd
# åœ¨å½“å‰é¡¹ç›®ç›®å½•æ‰“å¼€ cmd
cd "C:\Users\user\Desktop\Destiny AI"
```

### æ­¥éª¤ 2: ç™»å½• Railway
```cmd
railway login
```
- ğŸŒ ä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
- ğŸ“ åœ¨æµè§ˆå™¨ä¸­ç™»å½•ä½ çš„ Railway è´¦æˆ·
- âœ… ç™»å½•æˆåŠŸåè¿”å›å‘½ä»¤è¡Œ

### æ­¥éª¤ 3: åˆå§‹åŒ–é¡¹ç›®
```cmd
railway init
```
- ğŸ†• é€‰æ‹© "Create a new project" (åˆ›å»ºæ–°é¡¹ç›®)
- ğŸ“ è¾“å…¥é¡¹ç›®åç§°ï¼Œä¾‹å¦‚: `destiny-ai-backend`
- âœ… åˆå§‹åŒ–å®Œæˆ

### æ­¥éª¤ 4: éƒ¨ç½²é¡¹ç›®
```cmd
railway up
```
- ğŸ“¦ è‡ªåŠ¨æ‰“åŒ…å’Œä¸Šä¼ ä»£ç 
- ğŸš€ å¼€å§‹éƒ¨ç½²æµç¨‹
- â³ ç­‰å¾… 2-5 åˆ†é’Ÿéƒ¨ç½²å®Œæˆ

### æ­¥éª¤ 5: è·å–éƒ¨ç½²ä¿¡æ¯
```cmd
railway status
railway domain
```
- ğŸ“Š æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
- ğŸ”— è·å–éƒ¨ç½²åŸŸå

## ğŸ”§ éƒ¨ç½²å®Œæˆåçš„é…ç½®

### 1. æ‰“å¼€ Railway æ§åˆ¶å°
```cmd
railway open
```

### 2. é…ç½®ç¯å¢ƒå˜é‡
åœ¨æ‰“å¼€çš„ç½‘é¡µä¸­ï¼š
1. ç‚¹å‡» "Variables" æ ‡ç­¾é¡µ
2. ç‚¹å‡» "New Variable" æ·»åŠ ä»¥ä¸‹å˜é‡ï¼š

```env
# åŸºç¡€é…ç½®
NODE_ENV=production
FRONTEND_URL=https://astredevin.netlify.app

# OpenRouter AI
OPENROUTER_API_KEY=sk-or-v1-ä½ çš„å¯†é’¥

# Stripe æ”¯ä»˜
STRIPE_SECRET_KEY=sk_test_ä½ çš„å¯†é’¥
STRIPE_PUBLISHABLE_KEY=pk_test_ä½ çš„å¯†é’¥
STRIPE_WEBHOOK_SECRET=whsec_ä½ çš„å¯†é’¥

# Supabase æ•°æ®åº“
SUPABASE_URL=https://ä½ çš„é¡¹ç›®.supabase.co
SUPABASE_SERVICE_KEY=ä½ çš„æœåŠ¡å¯†é’¥

# JWT è®¤è¯
JWT_SECRET=ä½ çš„64ä½éšæœºå­—ç¬¦ä¸²
```

### 3. éªŒè¯éƒ¨ç½²
```cmd
railway logs
```
- ğŸ“‹ æŸ¥çœ‹æ—¥å¿—ç¡®è®¤æœåŠ¡æ­£å¸¸è¿è¡Œ
- ğŸ” æ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

## ğŸ”— æ›´æ–°å‰ç«¯é…ç½®

éƒ¨ç½²æˆåŠŸåï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ª Railway åŸŸåï¼Œæ ¼å¼å¦‚ï¼š
`https://destiny-ai-backend-production.up.railway.app`

éœ€è¦æ›´æ–°å‰ç«¯é¡¹ç›®ä¸­çš„ API é…ç½®ï¼š

### 1. ç¼–è¾‘ api-config.js
```javascript
const config = {
    apiUrl: 'https://ä½ çš„RailwayåŸŸå'
};
```

### 2. é‡æ–°éƒ¨ç½²å‰ç«¯åˆ° Netlify

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

```cmd
railway logs          # æŸ¥çœ‹å®æ—¶æ—¥å¿—
railway status        # æŸ¥çœ‹æœåŠ¡çŠ¶æ€
railway variables     # æŸ¥çœ‹ç¯å¢ƒå˜é‡
railway domain        # æŸ¥çœ‹éƒ¨ç½²åŸŸå
railway open          # æ‰“å¼€æ§åˆ¶å°
railway redeploy      # é‡æ–°éƒ¨ç½²
```

## ğŸ†˜ å¦‚æœé‡åˆ°é—®é¢˜

### ç™»å½•é—®é¢˜
- ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸
- å°è¯•ä½¿ç”¨ä¸åŒæµè§ˆå™¨
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

### éƒ¨ç½²å¤±è´¥
- æ£€æŸ¥ `railway logs` è·å–é”™è¯¯ä¿¡æ¯
- ç¡®è®¤æ‰€æœ‰ä¾èµ–éƒ½åœ¨ package.json ä¸­
- æ£€æŸ¥ Railway è´¦æˆ·é…é¢

### æœåŠ¡æ— æ³•è®¿é—®
- ç¡®è®¤ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®
- æ£€æŸ¥ Supabase å’Œ Stripe é…ç½®
- æŸ¥çœ‹æœåŠ¡æ—¥å¿—æ’æŸ¥é”™è¯¯

## âœ… æˆåŠŸæ ‡å¿—

å½“ä½ çœ‹åˆ°ä»¥ä¸‹æƒ…å†µæ—¶ï¼Œè¯´æ˜éƒ¨ç½²æˆåŠŸï¼š
- `railway status` æ˜¾ç¤º "ACTIVE"
- `railway domain` è¿”å›å¯è®¿é—®çš„åŸŸå
- `railway logs` æ˜¾ç¤ºæœåŠ¡æ­£å¸¸å¯åŠ¨
- è®¿é—®åŸŸå/health è¿”å›æˆåŠŸå“åº”

---

ğŸ’¡ **æç¤º**: å®Œæˆæ¯ä¸ªæ­¥éª¤åï¼Œå¯ä»¥å‘æˆ‘æŠ¥å‘Šç»“æœï¼Œæˆ‘ä¼šå¸®ä½ è§£å†³ä»»ä½•é—®é¢˜ï¼