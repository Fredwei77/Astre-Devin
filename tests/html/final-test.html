<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ€ç»ˆæµ‹è¯• - ç™»å½•é¡µé¢</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 30px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 32px;
        }
        .fix-box {
            background: rgba(255,255,255,0.15);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border-left: 4px solid #4CAF50;
        }
        .fix-box h2 {
            margin-top: 0;
            color: #4CAF50;
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: all 0.3s;
        }
        button:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        .test-steps {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
        }
        .test-steps ol {
            margin: 10px 0;
            padding-left: 25px;
        }
        .test-steps li {
            margin: 10px 0;
            line-height: 1.6;
        }
        .important {
            background: rgba(255,193,7,0.2);
            border-left: 4px solid #FFC107;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .success {
            background: rgba(76,175,80,0.2);
            border-left: 4px solid #4CAF50;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        code {
            background: rgba(0,0,0,0.3);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }
        .button-group {
            text-align: center;
            margin: 30px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ‰ ç™»å½•é¡µé¢æœ€ç»ˆä¿®å¤</h1>

        <div class="fix-box">
            <h2>âœ… å·²ä¿®å¤çš„é—®é¢˜</h2>
            <ol>
                <li><strong>Googleå®¢æˆ·ç«¯åŠ è½½å¤±è´¥</strong> - å·²ç§»é™¤å¤–éƒ¨ä¾èµ–</li>
                <li><strong>æ¨¡æ‹ŸAPIè°ƒç”¨</strong> - å·²æ›¿æ¢ä¸ºçœŸå®API</li>
                <li><strong>è¡¨å•éªŒè¯é”™è¯¯</strong> - åŠ¨æ€ç®¡ç†requiredå±æ€§ â­ æœ€æ–°ä¿®å¤</li>
                <li><strong>é”™è¯¯å¤„ç†ä¸å®Œå–„</strong> - æ·»åŠ è¯¦ç»†æ—¥å¿—å’Œé”™è¯¯æç¤º</li>
                <li><strong>ä¼šè¯å­˜å‚¨ä¸å®‰å…¨</strong> - ä½¿ç”¨sessionStorage</li>
            </ol>
        </div>

        <div class="important">
            <h3>âš ï¸ é‡è¦ï¼šæ¸…é™¤æµè§ˆå™¨ç¼“å­˜</h3>
            <p>åœ¨æµ‹è¯•å‰ï¼Œè¯·åŠ¡å¿…æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼š</p>
            <ol>
                <li>æŒ‰ <code>Ctrl+Shift+Delete</code></li>
                <li>é€‰æ‹©"ç¼“å­˜çš„å›¾åƒå’Œæ–‡ä»¶"</li>
                <li>ç‚¹å‡»"æ¸…é™¤æ•°æ®"</li>
            </ol>
            <p>æˆ–è€…ä½¿ç”¨æ— ç—•æ¨¡å¼ï¼š<code>Ctrl+Shift+N</code></p>
        </div>

        <div class="test-steps">
            <h3>ğŸ“‹ æµ‹è¯•æ­¥éª¤</h3>
            <ol>
                <li>ç‚¹å‡»ä¸‹æ–¹"æ‰“å¼€ç™»å½•é¡µé¢"æŒ‰é’®</li>
                <li>åœ¨ç™»å½•é¡µé¢è¾“å…¥ï¼š
                    <ul>
                        <li>é‚®ç®±: <code>test@example.com</code></li>
                        <li>å¯†ç : <code>password123</code></li>
                    </ul>
                </li>
                <li>ç‚¹å‡»"ç™»å…¥è´¦æˆ·"æŒ‰é’®</li>
                <li>åº”è¯¥çœ‹åˆ°"ç™»å…¥æˆåŠŸï¼"æ¶ˆæ¯</li>
                <li>1.5ç§’åè‡ªåŠ¨è·³è½¬åˆ°é¦–é¡µ</li>
            </ol>
        </div>

        <div class="success">
            <h3>âœ¨ é¢„æœŸç»“æœ</h3>
            <p><strong>æµè§ˆå™¨æ§åˆ¶å°åº”è¯¥æ˜¾ç¤ºï¼š</strong></p>
            <pre style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 4px; overflow-x: auto;">Initializing login page...
Destiny AI Login Page initialized
Switching to tab: login
Login page ready
Login page initialized successfully

(ç‚¹å‡»ç™»å½•å)
Switching to tab: login
Login attempt: test@example.com
Login response: {success: true, ...}</pre>
            <p><strong>é¡µé¢åº”è¯¥æ˜¾ç¤ºï¼š</strong></p>
            <ul>
                <li>âœ… ç»¿è‰²æˆåŠŸæ¶ˆæ¯ï¼š"ç™»å…¥æˆåŠŸï¼æ­£åœ¨è·³è½¬..."</li>
                <li>âœ… åŠ è½½åŠ¨ç”»</li>
                <li>âœ… è‡ªåŠ¨è·³è½¬åˆ°é¦–é¡µ</li>
            </ul>
        </div>

        <div class="button-group">
            <button onclick="window.open('/login.html', '_blank')" style="font-size: 18px; padding: 20px 40px;">
                ğŸš€ æ‰“å¼€ç™»å½•é¡µé¢
            </button>
        </div>

        <div class="button-group">
            <button onclick="window.open('/login-simple.html', '_blank')">
                å¯¹æ¯”ï¼šç®€åŒ–ç‰ˆæœ¬
            </button>
            <button onclick="window.open('/debug.html', '_blank')">
                è°ƒè¯•å·¥å…·
            </button>
            <button onclick="testAPI()">
                æµ‹è¯•API
            </button>
        </div>

        <div id="api-result" style="margin-top: 20px;"></div>

        <div class="test-steps" style="margin-top: 30px;">
            <h3>ğŸ› å¦‚æœä»ç„¶æ— æ³•ç™»å½•</h3>
            <ol>
                <li><strong>æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°</strong>
                    <ul>
                        <li>æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·</li>
                        <li>æŸ¥çœ‹ Console æ ‡ç­¾é¡µ</li>
                        <li>æŸ¥æ‰¾çº¢è‰²é”™è¯¯æ¶ˆæ¯</li>
                        <li>æˆªå›¾å¹¶æŠ¥å‘Šé”™è¯¯</li>
                    </ul>
                </li>
                <li><strong>ä½¿ç”¨æ— ç—•æ¨¡å¼</strong>
                    <ul>
                        <li>æŒ‰ Ctrl+Shift+N</li>
                        <li>è®¿é—®ç™»å½•é¡µé¢</li>
                        <li>æµ‹è¯•ç™»å½•åŠŸèƒ½</li>
                    </ul>
                </li>
                <li><strong>ä½¿ç”¨ç®€åŒ–ç‰ˆæœ¬</strong>
                    <ul>
                        <li>è®¿é—® login-simple.html</li>
                        <li>éªŒè¯APIæ­£å¸¸å·¥ä½œ</li>
                        <li>å¯¹æ¯”ä¸¤ä¸ªç‰ˆæœ¬çš„å·®å¼‚</li>
                    </ul>
                </li>
            </ol>
        </div>
    </div>

    <script>
        async function testAPI() {
            const resultDiv = document.getElementById('api-result');
            resultDiv.innerHTML = '<div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">æ­£åœ¨æµ‹è¯•API...</div>';

            try {
                const response = await fetch('/api/auth/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        email: 'test@example.com',
                        password: 'password123'
                    })
                });

                const data = await response.json();

                if (data.success) {
                    resultDiv.innerHTML = `
                        <div style="background: rgba(76,175,80,0.2); border-left: 4px solid #4CAF50; padding: 15px; border-radius: 8px;">
                            <h3 style="color: #4CAF50; margin-top: 0;">âœ… APIæµ‹è¯•æˆåŠŸ</h3>
                            <pre style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 4px; overflow-x: auto;">${JSON.stringify(data, null, 2)}</pre>
                        </div>
                    `;
                } else {
                    resultDiv.innerHTML = `
                        <div style="background: rgba(244,67,54,0.2); border-left: 4px solid #f44336; padding: 15px; border-radius: 8px;">
                            <h3 style="color: #f44336; margin-top: 0;">âŒ APIè¿”å›å¤±è´¥</h3>
                            <p>${data.message}</p>
                        </div>
                    `;
                }
            } catch (error) {
                resultDiv.innerHTML = `
                    <div style="background: rgba(244,67,54,0.2); border-left: 4px solid #f44336; padding: 15px; border-radius: 8px;">
                        <h3 style="color: #f44336; margin-top: 0;">âŒ APIè¯·æ±‚å¤±è´¥</h3>
                        <p>${error.message}</p>
                    </div>
                `;
            }
        }
    </script>
</body>
</html>
