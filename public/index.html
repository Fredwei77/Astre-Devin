<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Destiny AI - Ancient Eastern Wisdom for Modern Life</title>
    <meta name="description"
        content="Discover your destiny with AI-powered Eastern astrology, feng shui, and I-Ching divination. Get personalized insights for better life decisions.">

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Noto+Serif:wght@400;700&family=Noto+Sans+SC:wght@300;400;500&family=Inter:wght@300;400;500;600&display=swap"
        rel="stylesheet">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Tooltip Styles -->
    <link rel="stylesheet" href="tooltip.css">

    <!-- Mystical Eastern Theme -->
    <link rel="stylesheet" href="mystical-theme.css">

    <!-- User Menu Styles -->
    <link rel="stylesheet" href="user-menu.css">

    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.18.0/matter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.2/echarts.min.js"></script>

    <!-- Unified Translation System -->
    <script src="translations.js"></script>
    <script src="unified-i18n.js"></script>

    <!-- Old Language Switcher (backup) -->
    <!-- <script src="language-switcher-final.js"></script> -->

    <!-- Configuration and AI Service -->
    <script src="api-config.js"></script>
    <script src="config.js"></script>





    <script src="ai-service.js"></script>
    <script src="state-preserver.js"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Cookie Consent -->
    <link rel="stylesheet" href="cookie-consent.css">
    <script src="cookie-consent.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'deep-navy': '#1a237e',
                        'mystic-gold': '#ffd700',
                        'moon-silver': '#c0c0c0',
                        'ink-black': '#2c2c2c',
                        'warm-white': '#fafafa',
                        'pale-gold': '#fff8dc',
                        'mystic-purple': '#4a148c'
                    },
                    fontFamily: {
                        'serif-sc': ['Noto Serif SC', 'serif'],
                        'serif': ['Noto Serif', 'serif'],
                        'sans-sc': ['Noto Sans SC', 'sans-serif'],
                        'inter': ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>

    <style>
        /* Body background now handled by mystical-theme.css */

        .hero-bg {
            background: url('resources/hero-mystical.png') center/cover no-repeat;
            position: relative;
            overflow: hidden;
        }

        .hero-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(13, 38, 38, 0.7);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .particle-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .feature-card {
            -webkit-backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .glow-text {
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .floating-animation {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        .scroll-reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease;
        }

        .scroll-reveal.revealed {
            opacity: 1;
            transform: translateY(0);
        }

        /* Mobile Music Controls Styling */
        .touch-manipulation {
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        .volume-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 80px;
            height: 4px;
            border-radius: 2px;
            background: rgba(192, 192, 192, 0.3);
            outline: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #ffd700;
            cursor: pointer;
        }

        .volume-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #ffd700;
            cursor: pointer;
            border: none;
        }

        /* Mobile-specific music notification */
        .mobile-music-toast {
            position: fixed;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.9);
            color: #ffd700;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .mobile-music-toast.show {
            opacity: 1;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .mystical-particles {
                display: none;
                /* Reduce GPU load on mobile */
            }

            #musicControl button {
                backdrop-filter: blur(8px);
                /* Reduce blur for performance */
            }
        }
    </style>
</head>

<body class="font-inter text-warm-white">
    <!-- Mystical Particle Effects -->
    <div class="mystical-particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <!-- Background Music -->
    <audio id="backgroundMusic" loop preload="auto">
        <source src="Music/Meditation.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <!-- Music Control Button with Mobile Optimization -->
    <div id="musicControl" class="fixed bottom-4 right-4 sm:bottom-6 sm:right-6 z-50">
        <button id="musicToggle"
            class="bg-mystic-gold/20 backdrop-blur-sm border border-mystic-gold/30 text-mystic-gold hover:bg-mystic-gold hover:text-deep-navy active:scale-95 transition-all duration-300 rounded-full w-14 h-14 sm:w-12 sm:h-12 flex items-center justify-center shadow-lg touch-manipulation"
            title="Toggle Background Music">
            <span id="musicIcon" class="text-xl sm:text-lg">ğŸµ</span>
        </button>
        <!-- Volume Control Slider for Mobile -->
        <div id="volumeSlider"
            class="absolute bottom-16 right-0 bg-black/80 backdrop-blur-sm border border-mystic-gold/30 rounded-lg p-3 hidden">
            <div class="flex items-center space-x-2">
                <span class="text-xs text-mystic-gold">ğŸ”Š</span>
                <input type="range" id="volumeRange" min="0" max="100" value="30" class="volume-slider">
                <span id="volumeDisplay" class="text-xs text-mystic-gold">30%</span>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 mystical-nav border-b border-moon-silver/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <div
                        class="w-10 h-10 rounded-full flex items-center justify-center overflow-hidden border border-mystic-gold/50 bg-black/50">
                        <img src="resources/logo-processed.png" alt="Dragon Logo" class="w-full h-full object-cover">
                    </div>
                    <span class="text-xl font-serif font-bold glow-text" data-i18n="brand.name">ä¹ ç­®</span>
                </div>

                <div class="hidden md:flex items-center space-x-8">
                    <a href="divination.html" class="hover:text-mystic-gold transition-colors"
                        data-i18n="nav.divination">Divination</a>
                    <a href="fengshui.html" class="hover:text-mystic-gold transition-colors"
                        data-i18n="nav.fengshui">Feng Shui</a>
                    <a href="iching.html" class="hover:text-mystic-gold transition-colors"
                        data-i18n="nav.iching">I-Ching</a>
                    <a href="calendar.html" class="hover:text-mystic-gold transition-colors"
                        data-i18n="nav.calendar">Calendar</a>
                    <a href="about.html" class="hover:text-mystic-gold transition-colors" data-i18n="nav.about">About
                        Us</a>
                    <a href="profile.html" class="hover:text-mystic-gold transition-colors"
                        data-i18n="nav.profile">Profile</a>
                </div>

                <div class="flex items-center space-x-4">
                    <select id="languageSelect"
                        class="bg-transparent border border-moon-silver/30 rounded px-3 py-1 text-sm">
                        <option value="en">English</option>
                        <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                        <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                        <option value="es">EspaÃ±ol</option>
                    </select>

                    <!-- Login/User Section -->
                    <div id="authSection" class="flex items-center space-x-3">
                        <!-- Guest View (Not Logged In) -->
                        <div id="guestView" class="flex items-center space-x-3">
                            <button id="loginBtn"
                                class="text-moon-silver hover:text-mystic-gold transition-colors font-medium flex items-center gap-2">
                                <i class="fas fa-sign-in-alt"></i>
                                <span data-i18n="nav.login">ç™»å…¥</span>
                            </button>
                            <a href="payment.html"
                                class="bg-mystic-gold text-deep-navy px-4 py-2 rounded-lg font-medium hover:bg-yellow-400 transition-colors"
                                data-i18n="nav.getStarted">
                                å¼€å§‹ä½¿ç”¨
                            </a>
                        </div>

                        <!-- User View (Logged In) -->
                        <div id="userView" class="hidden">
                            <div class="flex items-center space-x-3">
                                <!-- User Avatar and Name -->
                                <div class="flex items-center space-x-2 user-avatar-container">
                                    <div
                                        class="w-9 h-9 rounded-full bg-gradient-to-br from-mystic-gold to-moon-silver flex items-center justify-center border-2 border-mystic-gold/50 shadow-lg">
                                        <img id="userAvatar" src="" alt="User Avatar"
                                            class="w-full h-full rounded-full object-cover hidden">
                                        <i id="userIcon" class="fas fa-user text-deep-navy text-sm"></i>
                                    </div>
                                    <div class="flex flex-col">
                                        <span id="userName" class="text-moon-silver font-medium text-sm"></span>
                                        <span id="userLevel" class="text-mystic-gold text-xs hidden">VIP</span>
                                    </div>
                                </div>

                                <!-- Dropdown Menu Button -->
                                <div class="relative">
                                    <button id="userMenuBtn"
                                        class="text-moon-silver hover:text-mystic-gold transition-all duration-300 p-2 hover:bg-mystic-gold/10 rounded-full">
                                        <i class="fas fa-chevron-down text-sm"></i>
                                    </button>

                                    <!-- Dropdown Menu -->
                                    <div id="userMenu"
                                        class="absolute right-0 mt-2 w-56 bg-black/95 backdrop-blur-md border-2 border-mystic-gold/30 rounded-xl shadow-2xl hidden z-50 overflow-hidden">
                                        <!-- User Info Card -->
                                        <div class="user-info-card">
                                            <div class="flex items-center space-x-3">
                                                <div
                                                    class="w-10 h-10 rounded-full bg-gradient-to-br from-mystic-gold to-moon-silver flex items-center justify-center border-2 border-mystic-gold/50">
                                                    <i class="fas fa-user text-deep-navy"></i>
                                                </div>
                                                <div class="flex-1">
                                                    <div id="menuUserName"
                                                        class="text-warm-white font-semibold text-sm"></div>
                                                    <div id="menuUserEmail" class="user-email"></div>
                                                    <div id="menuUserStatus" class="user-status">å…è´¹ä¼šå‘˜</div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Menu Items -->
                                        <div class="py-2">
                                            <a href="profile.html"
                                                class="flex items-center px-4 py-3 text-moon-silver hover:text-mystic-gold hover:bg-mystic-gold/10 transition-all">
                                                <i class="fas fa-user-circle w-5"></i>
                                                <span class="ml-3" data-i18n="nav.userInfo">ä¸ªäººä¿¡æ¯</span>
                                            </a>

                                            <a href="profile.html#readings"
                                                class="flex items-center px-4 py-3 text-moon-silver hover:text-mystic-gold hover:bg-mystic-gold/10 transition-all">
                                                <i class="fas fa-history w-5"></i>
                                                <span class="ml-3" data-i18n="nav.myReadings">æˆ‘çš„å åœ</span>
                                            </a>

                                            <a href="payment.html"
                                                class="flex items-center px-4 py-3 text-moon-silver hover:text-mystic-gold hover:bg-mystic-gold/10 transition-all">
                                                <i class="fas fa-crown w-5"></i>
                                                <span class="ml-3" data-i18n="nav.upgrade">ä¼šå‘˜å‡çº§</span>
                                                <span
                                                    class="ml-auto text-xs bg-mystic-gold text-deep-navy px-2 py-1 rounded-full font-bold">HOT</span>
                                            </a>

                                            <a href="profile.html#settings"
                                                class="flex items-center px-4 py-3 text-moon-silver hover:text-mystic-gold hover:bg-mystic-gold/10 transition-all">
                                                <i class="fas fa-cog w-5"></i>
                                                <span class="ml-3" data-i18n="nav.settings">è®¾ç½®</span>
                                            </a>
                                        </div>

                                        <hr class="border-mystic-gold/20 mx-3">

                                        <!-- Logout Button -->
                                        <div class="py-2">
                                            <button id="logoutBtn"
                                                class="w-full flex items-center px-4 py-3 text-moon-silver hover:text-red-400 hover:bg-red-400/10 transition-all">
                                                <i class="fas fa-sign-out-alt w-5"></i>
                                                <span class="ml-3" data-i18n="nav.logout">é€€å‡ºç™»å½•</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-bg min-h-screen flex items-center justify-center relative">
        <div id="particle-container" class="particle-container"></div>

        <div class="hero-content text-center max-w-4xl mx-auto px-4">
            <h1 class="text-5xl md:text-7xl font-serif font-bold mb-6 glow-text">
                <span id="typed-text"></span>
            </h1>

            <p class="text-xl md:text-2xl mb-8 text-moon-silver max-w-2xl mx-auto leading-relaxed"
                data-i18n="home.hero.description">
                Harness the power of ancient Eastern wisdom combined with modern AI technology.
                Discover your destiny, optimize your environment, and make better life decisions.
            </p>

            <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                <a href="divination.html"
                    class="bg-mystic-gold text-deep-navy px-8 py-4 rounded-lg font-semibold text-lg hover:bg-yellow-400 transition-all transform hover:scale-105"
                    data-i18n="home.hero.cta1">
                    Start Free Reading
                </a>
                <a href="#features"
                    class="border-2 border-moon-silver text-moon-silver px-8 py-4 rounded-lg font-semibold text-lg hover:bg-moon-silver hover:text-deep-navy transition-all"
                    data-i18n="home.hero.cta2">
                    Learn More
                </a>
            </div>

            <div class="mt-12 flex justify-center space-x-8 text-moon-silver">
                <div class="text-center">
                    <div class="text-2xl font-bold text-mystic-gold">10M+</div>
                    <div class="text-sm" data-i18n="home.stats.readings">Readings Completed</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-mystic-gold">50k+</div>
                    <div class="text-sm" data-i18n="home.stats.users">Happy Users</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-mystic-gold">93.9%</div>
                    <div class="text-sm" data-i18n="home.stats.accuracy">Accuracy Rate</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-20"
        style="background: linear-gradient(to bottom, var(--mystic-teal), var(--jade-dark));">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 scroll-reveal">
                <h2 class="text-4xl md:text-5xl font-serif font-bold mb-6 glow-text" data-i18n="home.features.title">
                    Ancient Wisdom, Modern Technology
                </h2>
                <p class="text-xl text-moon-silver max-w-3xl mx-auto" data-i18n="home.features.subtitle">
                    Our AI-powered platform combines traditional Eastern divination methods with cutting-edge technology
                    to provide you with accurate, personalized insights.
                </p>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <div class="feature-card rounded-xl p-8 text-center scroll-reveal floating-animation">
                    <div class="w-16 h-16 bg-mystic-gold rounded-full flex items-center justify-center mx-auto mb-6">
                        <span class="text-2xl">ğŸ”®</span>
                    </div>
                    <h3 class="text-2xl font-serif font-bold mb-4" data-i18n="home.features.divination.title">
                        AI Divination
                        <span class="tooltip-container">
                            <span class="tooltip-icon" tabindex="0">?</span>
                            <span class="tooltip-content" data-i18n-tooltip="tooltip.divination">
                                Divination is the practice of seeking knowledge of the future or unknown through
                                supernatural means.
                                Our AI analyzes your birth chart using ancient Eastern astrological principles to
                                provide personalized insights.
                            </span>
                        </span>
                    </h3>
                    <p class="text-moon-silver mb-6" data-i18n="home.features.divination.desc">
                        Get personalized readings using advanced AI algorithms trained on thousands of years of Eastern
                        wisdom.
                        Accurate, instant, and tailored to your unique situation.
                    </p>

                    <!-- Pay Per Use Pricing -->
                    <div class="border-t border-mystic-gold/20 pt-4 mb-4">
                        <div class="flex items-center justify-center gap-2 mb-3">
                            <span class="text-moon-silver/70 text-sm" data-i18n="home.features.payPerUse">æŒ‰æ¬¡ä»˜è´¹:</span>
                            <span class="text-2xl font-bold text-mystic-gold">$0.99</span>
                            <span class="text-moon-silver/70 text-sm" data-i18n="home.features.perUse">/æ¬¡</span>
                        </div>
                        <button
                            onclick="window.subscriptionManager && window.subscriptionManager.processPayPerUse('divination')"
                            class="w-full bg-gradient-to-r from-mystic-gold to-yellow-400 text-deep-navy py-2.5 px-4 rounded-lg font-semibold hover:from-yellow-400 hover:to-mystic-gold transition-all transform hover:scale-105 mb-3">
                            <i class="fas fa-bolt mr-2"></i>
                            <span data-i18n="home.features.payNow">ç«‹å³æ”¯ä»˜ä½¿ç”¨</span>
                        </button>
                    </div>

                    <a href="divination.html" class="text-mystic-gold hover:text-yellow-400 font-semibold text-sm"
                        data-i18n="home.features.divination.cta">
                        Try Now â†’
                    </a>
                </div>

                <div class="feature-card rounded-xl p-8 text-center scroll-reveal floating-animation"
                    style="animation-delay: 0.5s;">
                    <div class="w-16 h-16 bg-mystic-gold rounded-full flex items-center justify-center mx-auto mb-6">
                        <span class="text-2xl">ğŸ§­</span>
                    </div>
                    <h3 class="text-2xl font-serif font-bold mb-4" data-i18n="home.features.fengshui.title">
                        Feng Shui Analysis
                        <span class="tooltip-container">
                            <span class="tooltip-icon" tabindex="0">?</span>
                            <span class="tooltip-content" data-i18n-tooltip="tooltip.fengshui">
                                Feng Shui (literally "wind-water") is an ancient Chinese practice of arranging your
                                environment
                                to promote harmony and positive energy flow. Our tool helps optimize your space for
                                better health,
                                wealth, and relationships.
                            </span>
                        </span>
                    </h3>
                    <p class="text-moon-silver mb-6" data-i18n="home.features.fengshui.desc">
                        Optimize your living and working spaces with our interactive Feng Shui compass.
                        Get real-time analysis and personalized recommendations for better energy flow.
                    </p>

                    <!-- Pay Per Use Pricing -->
                    <div class="border-t border-mystic-gold/20 pt-4 mb-4">
                        <div class="flex items-center justify-center gap-2 mb-3">
                            <span class="text-moon-silver/70 text-sm" data-i18n="home.features.payPerUse">æŒ‰æ¬¡ä»˜è´¹:</span>
                            <span class="text-2xl font-bold text-mystic-gold">$1.99</span>
                            <span class="text-moon-silver/70 text-sm" data-i18n="home.features.perUse">/æ¬¡</span>
                        </div>
                        <button
                            onclick="window.subscriptionManager && window.subscriptionManager.processPayPerUse('fengshui')"
                            class="w-full bg-gradient-to-r from-mystic-gold to-yellow-400 text-deep-navy py-2.5 px-4 rounded-lg font-semibold hover:from-yellow-400 hover:to-mystic-gold transition-all transform hover:scale-105 mb-3">
                            <i class="fas fa-bolt mr-2"></i>
                            <span data-i18n="home.features.payNow">ç«‹å³æ”¯ä»˜ä½¿ç”¨</span>
                        </button>
                    </div>

                    <a href="fengshui.html" class="text-mystic-gold hover:text-yellow-400 font-semibold text-sm"
                        data-i18n="home.features.fengshui.cta">
                        Explore â†’
                    </a>
                </div>

                <div class="feature-card rounded-xl p-8 text-center scroll-reveal floating-animation"
                    style="animation-delay: 1s;">
                    <div class="w-16 h-16 bg-mystic-gold rounded-full flex items-center justify-center mx-auto mb-6">
                        <span class="text-2xl">â˜¯</span>
                    </div>
                    <h3 class="text-2xl font-serif font-bold mb-4" data-i18n="home.features.iching.title">
                        I-Ching Wisdom
                        <span class="tooltip-container">
                            <span class="tooltip-icon" tabindex="0">?</span>
                            <span class="tooltip-content" data-i18n-tooltip="tooltip.iching">
                                The I-Ching (Book of Changes) is a 3,000-year-old Chinese divination text. It uses 64
                                hexagrams
                                to provide guidance on life decisions. Our AI interprets these ancient symbols in the
                                context of
                                your modern challenges.
                            </span>
                        </span>
                    </h3>
                    <p class="text-moon-silver mb-6" data-i18n="home.features.iching.desc">
                        Consult the ancient Book of Changes for guidance on important decisions.
                        Our AI interprets the hexagrams in the context of your modern life challenges.
                    </p>

                    <!-- Pay Per Use Pricing -->
                    <div class="border-t border-mystic-gold/20 pt-4 mb-4">
                        <div class="flex items-center justify-center gap-2 mb-3">
                            <span class="text-moon-silver/70 text-sm" data-i18n="home.features.payPerUse">æŒ‰æ¬¡ä»˜è´¹:</span>
                            <span class="text-2xl font-bold text-mystic-gold">$2.99</span>
                            <span class="text-moon-silver/70 text-sm" data-i18n="home.features.perUse">/æ¬¡</span>
                        </div>
                        <button
                            onclick="window.subscriptionManager && window.subscriptionManager.processPayPerUse('iching')"
                            class="w-full bg-gradient-to-r from-mystic-gold to-yellow-400 text-deep-navy py-2.5 px-4 rounded-lg font-semibold hover:from-yellow-400 hover:to-mystic-gold transition-all transform hover:scale-105 mb-3">
                            <i class="fas fa-bolt mr-2"></i>
                            <span data-i18n="home.features.payNow">ç«‹å³æ”¯ä»˜ä½¿ç”¨</span>
                        </button>
                    </div>

                    <a href="iching.html" class="text-mystic-gold hover:text-yellow-400 font-semibold text-sm"
                        data-i18n="home.features.iching.cta">
                        Consult â†’
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="py-20" style="background: linear-gradient(to bottom, var(--jade-dark), var(--mystic-teal));">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 scroll-reveal">
                <h2 class="text-4xl md:text-5xl font-serif font-bold mb-6 glow-text" data-i18n="home.howItWorks.title">
                    Your Journey to Self-Discovery
                </h2>
                <p class="text-xl text-moon-silver max-w-3xl mx-auto" data-i18n="home.howItWorks.subtitle">
                    Simple steps to unlock the wisdom of the ages and gain clarity about your path forward.
                </p>
            </div>

            <div class="grid md:grid-cols-4 gap-8">
                <div class="text-center scroll-reveal">
                    <div
                        class="w-20 h-20 bg-mystic-gold rounded-full flex items-center justify-center mx-auto mb-6 text-deep-navy font-bold text-2xl">
                        1</div>
                    <h3 class="text-xl font-serif font-bold mb-3" data-i18n="home.howItWorks.step1.title">Share Your
                        Info</h3>
                    <p class="text-moon-silver" data-i18n="home.howItWorks.step1.desc">Enter your birth details and
                        current questions or concerns.</p>
                </div>

                <div class="text-center scroll-reveal">
                    <div
                        class="w-20 h-20 bg-mystic-gold rounded-full flex items-center justify-center mx-auto mb-6 text-deep-navy font-bold text-2xl">
                        2</div>
                    <h3 class="text-xl font-serif font-bold mb-3" data-i18n="home.howItWorks.step2.title">AI Analysis
                    </h3>
                    <p class="text-moon-silver" data-i18n="home.howItWorks.step2.desc">Our AI processes your information
                        using ancient Eastern wisdom systems.</p>
                </div>

                <div class="text-center scroll-reveal">
                    <div
                        class="w-20 h-20 bg-mystic-gold rounded-full flex items-center justify-center mx-auto mb-6 text-deep-navy font-bold text-2xl">
                        3</div>
                    <h3 class="text-xl font-serif font-bold mb-3" data-i18n="home.howItWorks.step3.title">Get Insights
                    </h3>
                    <p class="text-moon-silver" data-i18n="home.howItWorks.step3.desc">Receive personalized readings
                        with actionable guidance and predictions.</p>
                </div>

                <div class="text-center scroll-reveal">
                    <div
                        class="w-20 h-20 bg-mystic-gold rounded-full flex items-center justify-center mx-auto mb-6 text-deep-navy font-bold text-2xl">
                        4</div>
                    <h3 class="text-xl font-serif font-bold mb-3" data-i18n="home.howItWorks.step4.title">Take Action
                    </h3>
                    <p class="text-moon-silver" data-i18n="home.howItWorks.step4.desc">Use the wisdom gained to make
                        better decisions and improve your life.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section class="py-20" style="background: linear-gradient(to bottom, var(--mystic-teal), var(--jade-dark));">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 scroll-reveal">
                <h2 class="text-4xl md:text-5xl font-serif font-bold mb-6 glow-text" data-i18n="home.pricing.title">
                    Choose Your Path
                </h2>
                <p class="text-xl text-moon-silver max-w-3xl mx-auto" data-i18n="home.pricing.subtitle">
                    Start with our free readings or unlock the full power of ancient wisdom with premium features.
                </p>
            </div>

            <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <div class="feature-card rounded-xl p-8 text-center scroll-reveal">
                    <h3 class="text-2xl font-serif font-bold mb-4" data-i18n="payment.plan.free">Free</h3>
                    <div class="text-4xl font-bold text-mystic-gold mb-6">$0</div>
                    <p class="text-sm text-moon-silver/70 mb-4" data-i18n="payment.plan.forever">Forever Free</p>
                    <ul class="text-moon-silver space-y-3 mb-8 text-left">
                        <li data-i18n="payment.feature.mockData">âœ“ æ¨¡æ‹Ÿæ•°æ®ä½“éªŒ</li>
                        <li data-i18n="payment.feature.basicInterface">âœ“ åŸºç¡€ç•Œé¢è®¿é—®</li>
                        <li data-i18n="payment.feature.limitedReadings">âœ“ æ¯æ—¥æ˜Ÿåº§è¿åŠ¿</li>
                        <li data-i18n="payment.feature.community">âœ“ ç¤¾åŒºè®¿é—®</li>
                        <li class="text-red-400" data-i18n="payment.feature.noAI">âœ— æ— AIåŠŸèƒ½</li>
                    </ul>
                    <a href="divination.html"
                        class="block w-full bg-moon-silver text-deep-navy py-3 rounded-lg font-semibold hover:bg-white transition-colors"
                        data-i18n="payment.button.getStarted">
                        å…è´¹å¼€å§‹
                    </a>
                </div>

                <div class="feature-card rounded-xl p-8 text-center scroll-reveal border-2 border-mystic-gold">
                    <div class="bg-mystic-gold text-deep-navy px-3 py-1 rounded-full text-sm font-semibold mb-4 inline-block"
                        data-i18n="payment.plan.mostPopular">
                        æœ€å—æ¬¢è¿
                    </div>
                    <h3 class="text-2xl font-serif font-bold mb-4" data-i18n="payment.plan.premium">é«˜çº§ç‰ˆ</h3>
                    <div class="text-4xl font-bold text-mystic-gold mb-6">$29.99<span class="text-lg text-moon-silver"
                            data-i18n="payment.plan.perMonth">/æœˆ</span></div>
                    <ul class="text-moon-silver space-y-3 mb-8 text-left">
                        <li data-i18n="payment.feature.allFree">âœ“ åŒ…å«æ‰€æœ‰å…è´¹åŠŸèƒ½</li>
                        <li data-i18n="payment.feature.fullAI">âœ“ å®Œæ•´AIåˆ†æåŠŸèƒ½</li>
                        <li data-i18n="payment.feature.birthChart">âœ“ è¯¦ç»†ç”Ÿè¾°å…«å­—åˆ†æ</li>
                        <li data-i18n="payment.feature.advancedFengshui">âœ“ é«˜çº§é£æ°´ç½—ç›˜</li>
                        <li data-i18n="payment.feature.unlimitedIching">âœ“ æ— é™æ˜“ç»å’¨è¯¢</li>
                        <li data-i18n="payment.feature.tracking">âœ“ ä¸ªäººæˆé•¿è¿½è¸ª</li>
                        <li data-i18n="payment.feature.consultations">âœ“ ä¸“å®¶å’¨è¯¢ (2æ¬¡/æœˆ)</li>
                    </ul>
                    <a href="#" onclick="window.location.href='payment.html?plan=premium'; return false;"
                        class="block w-full bg-mystic-gold text-deep-navy py-3 rounded-lg font-semibold hover:bg-yellow-400 transition-colors"
                        data-i18n="payment.button.choosePremium">
                        é€‰æ‹©é«˜çº§ç‰ˆ
                    </a>
                </div>

                <div class="feature-card rounded-xl p-8 text-center scroll-reveal">
                    <h3 class="text-2xl font-serif font-bold mb-4" data-i18n="payment.plan.professional">ä¸“ä¸šç‰ˆ
                    </h3>
                    <div class="text-4xl font-bold text-mystic-gold mb-6">$299.99<span class="text-lg text-moon-silver"
                            data-i18n="payment.plan.perQuarter">/ä¸‰ä¸ªæœˆ</span></div>
                    <ul class="text-moon-silver space-y-3 mb-8 text-left">
                        <li data-i18n="payment.feature.allPremium">âœ“ åŒ…å«æ‰€æœ‰é«˜çº§åŠŸèƒ½</li>
                        <li data-i18n="payment.feature.fullAI">âœ“ å®Œæ•´AIåˆ†æåŠŸèƒ½</li>
                        <li data-i18n="payment.feature.business">âœ“ å•†ä¸šå’¨è¯¢</li>
                        <li data-i18n="payment.feature.reports">âœ“ å®šåˆ¶æŠ¥å‘Šä¸åˆ†æ</li>
                        <li data-i18n="payment.feature.support">âœ“ ä¼˜å…ˆæ”¯æŒ</li>
                        <li data-i18n="payment.feature.api">âœ“ APIè®¿é—®</li>
                        <li data-i18n="payment.feature.whiteLabel">âœ“ ç™½æ ‡è§£å†³æ–¹æ¡ˆ</li>
                        <li data-i18n="payment.feature.dedicatedSupport">âœ“ ä¸“å±å®¢æˆ·ç»ç†</li>
                    </ul>
                    <a href="mailto:weiming5311@hotmail.com?subject=Professional Plan Inquiry&body=I'm interested in the Professional plan. Please contact me."
                        class="block w-full bg-moon-silver text-deep-navy py-3 rounded-lg font-semibold hover:bg-white transition-colors"
                        data-i18n="payment.button.contactSales">
                        è”ç³»é”€å”®
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Disclaimer Section -->
    <section class="py-8 border-t border-moon-silver/20" style="background: rgba(13, 38, 38, 0.8);">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center max-w-4xl mx-auto">
                <h3 class="text-lg font-semibold mb-3 text-mystic-gold" data-i18n="home.disclaimer.title">âš ï¸ Important
                    Disclaimer</h3>
                <p class="text-sm text-moon-silver leading-relaxed" data-i18n="home.disclaimer.text">
                    Destiny AI provides entertainment and self-reflection tools based on ancient Eastern wisdom
                    traditions.
                    Our readings and analyses are for <strong>informational and entertainment purposes only</strong> and
                    should
                    not be considered as professional advice for medical, legal, financial, or psychological matters.
                    Results are not guaranteed and should not be the sole basis for important life decisions.
                    Please consult qualified professionals for matters requiring expert guidance.
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-12" style="background: var(--jade-dark);">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <div class="flex items-center justify-center space-x-2 mb-6">
                    <div
                        class="w-10 h-10 rounded-full flex items-center justify-center overflow-hidden border border-mystic-gold/50 bg-black/50">
                        <img src="resources/logo-processed.png" alt="Dragon Logo" class="w-full h-full object-cover">
                    </div>
                    <span class="text-xl font-serif font-bold glow-text" data-i18n="brand.name">ä¹ ç­®</span>
                </div>

                <p class="text-moon-silver mb-6 max-w-2xl mx-auto" data-i18n="footer.description">
                    Combining ancient Eastern wisdom with modern AI technology to help you discover your destiny and
                    make better life decisions.
                </p>

                <div class="flex justify-center space-x-6 mb-6">
                    <a href="privacy.html" class="text-moon-silver hover:text-mystic-gold transition-colors"
                        data-i18n="footer.privacy">Privacy Policy</a>
                    <a href="terms.html" class="text-moon-silver hover:text-mystic-gold transition-colors"
                        data-i18n="footer.terms">Terms of Service</a>
                    <a href="about.html" class="text-moon-silver hover:text-mystic-gold transition-colors"
                        data-i18n="nav.about">About Us</a>
                    <a href="support.html" class="text-moon-silver hover:text-mystic-gold transition-colors"
                        data-i18n="footer.support">Support</a>
                </div>

                <!-- Social Media -->
                <div class="mb-6">
                    <h4 class="text-mystic-gold font-semibold mb-3" data-i18n="footer.social">Social Media</h4>
                    <div class="flex justify-center gap-6">
                        <a href="https://xhslink.com/m/40J0nrG5TNW" target="_blank" rel="noopener noreferrer"
                            class="text-moon-silver hover:text-mystic-gold transition-all transform hover:scale-110 flex flex-col items-center group"
                            title="å°çº¢ä¹¦: é­”ç¼˜æ–‡æ ¸">
                            <div
                                class="w-12 h-12 rounded-full bg-gradient-to-br from-red-400 to-pink-500 flex items-center justify-center shadow-lg group-hover:shadow-mystic-gold/50">
                                <svg class="w-7 h-7 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path
                                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z" />
                                </svg>
                            </div>
                        </a>

                        <a href="https://x.com/weiming5311" target="_blank" rel="noopener noreferrer"
                            class="text-moon-silver hover:text-mystic-gold transition-all transform hover:scale-110 flex flex-col items-center group"
                            title="X: @weiming5311">
                            <div
                                class="w-12 h-12 rounded-full bg-gradient-to-br from-gray-800 to-black flex items-center justify-center shadow-lg group-hover:shadow-mystic-gold/50">
                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path
                                        d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                                </svg>
                            </div>
                        </a>

                        <a href="https://www.instagram.com/gentle_pacifier/" target="_blank" rel="noopener noreferrer"
                            class="text-moon-silver hover:text-mystic-gold transition-all transform hover:scale-110 flex flex-col items-center group"
                            title="Instagram: @gentle_pacifier">
                            <div
                                class="w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 flex items-center justify-center shadow-lg group-hover:shadow-mystic-gold/50">
                                <svg class="w-7 h-7 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path
                                        d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                                </svg>
                            </div>
                        </a>

                        <a href="mailto:fredwei77@gmail.com"
                            class="text-moon-silver hover:text-mystic-gold transition-all transform hover:scale-110 flex flex-col items-center group"
                            title="Email: fredwei77@gmail.com">
                            <div
                                class="w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-lg group-hover:shadow-mystic-gold/50">
                                <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                </svg>
                            </div>
                        </a>

                        <a href="tel:+8618665860838"
                            class="text-moon-silver hover:text-mystic-gold transition-all transform hover:scale-110 flex flex-col items-center group"
                            title="+86 186 6586 0838">
                            <div
                                class="w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center shadow-lg group-hover:shadow-mystic-gold/50">
                                <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                                </svg>
                            </div>
                        </a>
                    </div>
                </div>

                <div class="border-t border-moon-silver/20 pt-6">
                    <p class="text-moon-silver text-sm" data-i18n="footer.copyright">
                        Â© 2024 Destiny AI. All rights reserved. Empowering lives through ancient wisdom and modern
                        technology.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] hidden">
        <div class="modal-backdrop absolute inset-0" onclick="closeLoginModal()"></div>
        <div class="modal-container h-full flex items-center justify-center p-2 sm:p-4 lg:p-6">
            <div class="login-modal-container bg-black/90 backdrop-blur-xl border-2 border-mystic-gold/30 rounded-2xl relative w-full h-full sm:h-auto sm:max-h-[90vh] max-w-sm sm:max-w-md lg:max-w-lg overflow-y-auto"
                onclick="event.stopPropagation()">
                <!-- Modal Content -->
                <div class="modal-content p-4 sm:p-6 lg:p-8">
                    <!-- Close Button -->
                    <button id="closeLoginModal"
                        class="absolute top-3 right-3 sm:top-4 sm:right-4 text-moon-silver hover:text-mystic-gold transition-colors z-10">
                        <i class="fas fa-times text-lg sm:text-xl"></i>
                    </button>

                    <!-- Modal Header -->
                    <div class="text-center mb-4 sm:mb-6 pt-2">
                        <div
                            class="w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 rounded-full bg-mystic-gold/20 flex items-center justify-center border border-mystic-gold/30">
                            <i class="fas fa-star-and-crescent text-xl sm:text-2xl text-mystic-gold"></i>
                        </div>
                        <h2 class="text-xl sm:text-2xl font-bold text-warm-white mb-1 sm:mb-2">æ¬¢è¿å›åˆ°å‘½è¿ä¹‹å¢ƒ</h2>
                        <p class="text-sm sm:text-base text-moon-silver/70 px-2">ç™»å…¥æ‚¨çš„è´¦æˆ·ï¼Œæ¢ç´¢ç¥ç§˜çš„AIå åœä¸–ç•Œ</p>
                    </div>

                    <!-- Tab Switcher -->
                    <div class="flex bg-mystic-gold/10 rounded-lg p-1 mb-4 sm:mb-6">
                        <button
                            class="modal-tab-btn active flex-1 py-2 sm:py-3 px-2 sm:px-4 rounded-md transition-all font-medium text-sm sm:text-base"
                            data-tab="login">
                            <i class="fas fa-sign-in-alt mr-1 sm:mr-2"></i>
                            <span class="hidden xxs:inline">ç™»å…¥</span>
                            <span class="xxs:hidden">ç™»</span>
                        </button>
                        <button
                            class="modal-tab-btn flex-1 py-2 sm:py-3 px-2 sm:px-4 rounded-md transition-all font-medium text-sm sm:text-base"
                            data-tab="register">
                            <i class="fas fa-user-plus mr-1 sm:mr-2"></i>
                            <span class="hidden xxs:inline">æ³¨å†Œ</span>
                            <span class="xxs:hidden">æ³¨</span>
                        </button>
                    </div>

                    <!-- Login Form -->
                    <form id="modalLoginForm" class="space-y-3 sm:space-y-4">
                        <!-- Login Tab -->
                        <div id="modalLoginTab" class="modal-tab-content">
                            <div class="space-y-3 sm:space-y-4">
                                <div>
                                    <label class="block text-moon-silver mb-1 sm:mb-2 font-medium text-sm sm:text-base">
                                        <i class="fas fa-envelope mr-1 sm:mr-2"></i>é‚®ç®±åœ°å€
                                    </label>
                                    <input type="email" id="modalLoginEmail"
                                        class="modal-input w-full p-2.5 sm:p-3 bg-black/50 border border-mystic-gold/30 rounded-lg text-warm-white placeholder-moon-silver/50 focus:border-mystic-gold focus:outline-none transition-colors text-sm sm:text-base"
                                        placeholder="è¯·è¾“å…¥æ‚¨çš„é‚®ç®±" required>
                                </div>

                                <div>
                                    <label class="block text-moon-silver mb-1 sm:mb-2 font-medium text-sm sm:text-base">
                                        <i class="fas fa-lock mr-1 sm:mr-2"></i>å¯†ç 
                                    </label>
                                    <div class="relative">
                                        <input type="password" id="modalLoginPassword"
                                            class="modal-input w-full p-2.5 sm:p-3 bg-black/50 border border-mystic-gold/30 rounded-lg text-warm-white placeholder-moon-silver/50 focus:border-mystic-gold focus:outline-none transition-colors pr-10 sm:pr-12 text-sm sm:text-base"
                                            placeholder="è¯·è¾“å…¥æ‚¨çš„å¯†ç " required>
                                        <button type="button"
                                            class="absolute right-2.5 sm:right-3 top-1/2 transform -translate-y-1/2 text-moon-silver/60 hover:text-mystic-gold transition-colors"
                                            onclick="toggleModalPassword('modalLoginPassword')">
                                            <i class="fas fa-eye text-sm sm:text-base"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="flex items-center justify-between">
                                    <label class="flex items-center text-xs sm:text-sm text-moon-silver/70">
                                        <input type="checkbox" class="mr-1 sm:mr-2 accent-mystic-gold">
                                        <span class="hidden xxs:inline">è®°ä½æˆ‘</span>
                                        <span class="xxs:hidden">è®°ä½</span>
                                    </label>
                                    <button type="button" id="forgotPasswordBtn"
                                        class="text-xs sm:text-sm text-mystic-gold hover:text-yellow-400 transition-colors">
                                        <span class="hidden xxs:inline">å¿˜è®°å¯†ç ï¼Ÿ</span>
                                        <span class="xxs:hidden">å¿˜è®°ï¼Ÿ</span>
                                    </button>
                                </div>

                                <button type="submit"
                                    class="w-full bg-gradient-to-r from-mystic-gold to-yellow-400 text-black font-bold py-2.5 sm:py-3 rounded-lg hover:from-yellow-400 hover:to-mystic-gold transition-all transform hover:scale-105 active:scale-95 text-sm sm:text-base">
                                    <i class="fas fa-sign-in-alt mr-1 sm:mr-2"></i>ç™»å…¥è´¦æˆ·
                                </button>
                            </div>
                        </div>

                        <!-- Forgot Password Tab -->
                        <div id="modalForgotTab" class="modal-tab-content hidden">
                            <div class="space-y-3 sm:space-y-4">
                                <div class="text-center mb-3 sm:mb-4">
                                    <i class="fas fa-key text-mystic-gold text-xl sm:text-2xl mb-2"></i>
                                    <h3 class="text-base sm:text-lg font-medium text-warm-white">é‡ç½®å¯†ç </h3>
                                    <p class="text-xs sm:text-sm text-moon-silver/70 px-2">è¾“å…¥æ‚¨çš„é‚®ç®±åœ°å€ï¼Œæˆ‘ä»¬å°†å‘é€é‡ç½®é“¾æ¥</p>
                                </div>

                                <div>
                                    <label class="block text-moon-silver mb-1 sm:mb-2 font-medium text-sm sm:text-base">
                                        <i class="fas fa-envelope mr-1 sm:mr-2"></i>é‚®ç®±åœ°å€
                                    </label>
                                    <input type="email" id="modalForgotEmail"
                                        class="modal-input w-full p-2.5 sm:p-3 bg-black/50 border border-mystic-gold/30 rounded-lg text-warm-white placeholder-moon-silver/50 focus:border-mystic-gold focus:outline-none transition-colors text-sm sm:text-base"
                                        placeholder="è¯·è¾“å…¥æ³¨å†Œæ—¶ä½¿ç”¨çš„é‚®ç®±" required>
                                </div>

                                <button type="button" id="sendResetBtn"
                                    class="w-full bg-gradient-to-r from-mystic-gold to-yellow-400 text-black font-bold py-2.5 sm:py-3 rounded-lg hover:from-yellow-400 hover:to-mystic-gold transition-all transform hover:scale-105 active:scale-95 text-sm sm:text-base">
                                    <i class="fas fa-paper-plane mr-1 sm:mr-2"></i>å‘é€é‡ç½®é“¾æ¥
                                </button>

                                <div class="text-center">
                                    <button type="button" id="backToLoginBtn"
                                        class="text-xs sm:text-sm text-moon-silver hover:text-mystic-gold transition-colors">
                                        â† è¿”å›ç™»å…¥
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Register Tab -->
                        <div id="modalRegisterTab" class="modal-tab-content hidden">
                            <div class="space-y-3 sm:space-y-4">
                                <div>
                                    <label class="block text-moon-silver mb-2 font-medium">
                                        <i class="fas fa-user mr-2"></i>ç”¨æˆ·å
                                    </label>
                                    <input type="text" id="modalRegisterName"
                                        class="modal-input w-full p-3 bg-black/50 border border-mystic-gold/30 rounded-lg text-warm-white placeholder-moon-silver/50 focus:border-mystic-gold focus:outline-none transition-colors"
                                        placeholder="è¯·è¾“å…¥æ‚¨çš„ç”¨æˆ·å" required>
                                </div>

                                <div>
                                    <label class="block text-moon-silver mb-2 font-medium">
                                        <i class="fas fa-envelope mr-2"></i>é‚®ç®±åœ°å€
                                    </label>
                                    <input type="email" id="modalRegisterEmail"
                                        class="modal-input w-full p-3 bg-black/50 border border-mystic-gold/30 rounded-lg text-warm-white placeholder-moon-silver/50 focus:border-mystic-gold focus:outline-none transition-colors"
                                        placeholder="è¯·è¾“å…¥æ‚¨çš„é‚®ç®±" required>
                                </div>

                                <div>
                                    <label class="block text-moon-silver mb-2 font-medium">
                                        <i class="fas fa-lock mr-2"></i>å¯†ç 
                                    </label>
                                    <div class="relative">
                                        <input type="password" id="modalRegisterPassword"
                                            class="modal-input w-full p-3 bg-black/50 border border-mystic-gold/30 rounded-lg text-warm-white placeholder-moon-silver/50 focus:border-mystic-gold focus:outline-none transition-colors pr-12"
                                            placeholder="è‡³å°‘8ä½å­—ç¬¦" required minlength="8">
                                        <button type="button"
                                            class="absolute right-3 top-1/2 transform -translate-y-1/2 text-moon-silver/60 hover:text-mystic-gold transition-colors"
                                            onclick="toggleModalPassword('modalRegisterPassword')">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                    <div id="modalPasswordStrength" class="mt-2 hidden">
                                        <div class="h-1 bg-gray-700 rounded-full overflow-hidden">
                                            <div class="modal-strength-bar h-full transition-all duration-300"></div>
                                        </div>
                                        <span
                                            class="modal-strength-text text-xs text-moon-silver/70 mt-1 block">å¯†ç å¼ºåº¦ï¼šå¼±</span>
                                    </div>
                                </div>

                                <div>
                                    <label class="block text-moon-silver mb-2 font-medium">
                                        <i class="fas fa-lock mr-2"></i>ç¡®è®¤å¯†ç 
                                    </label>
                                    <div class="relative">
                                        <input type="password" id="modalConfirmPassword"
                                            class="modal-input w-full p-3 bg-black/50 border border-mystic-gold/30 rounded-lg text-warm-white placeholder-moon-silver/50 focus:border-mystic-gold focus:outline-none transition-colors pr-12"
                                            placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç " required>
                                        <button type="button"
                                            class="absolute right-3 top-1/2 transform -translate-y-1/2 text-moon-silver/60 hover:text-mystic-gold transition-colors"
                                            onclick="toggleModalPassword('modalConfirmPassword')">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                </div>

                                <div>
                                    <label class="flex items-start text-sm text-moon-silver/70">
                                        <input type="checkbox" class="mr-2 mt-1 accent-mystic-gold" required>
                                        æˆ‘å·²é˜…è¯»å¹¶åŒæ„ <a href="terms.html"
                                            class="text-mystic-gold hover:text-yellow-400 ml-1">æœåŠ¡æ¡æ¬¾</a> å’Œ
                                        <a href="privacy.html"
                                            class="text-mystic-gold hover:text-yellow-400 ml-1">éšç§æ”¿ç­–</a>
                                    </label>
                                </div>

                                <button type="submit"
                                    class="w-full bg-gradient-to-r from-mystic-gold to-yellow-400 text-black font-bold py-3 rounded-lg hover:from-yellow-400 hover:to-mystic-gold transition-all transform hover:scale-105 active:scale-95">
                                    <i class="fas fa-user-plus mr-2"></i>åˆ›å»ºè´¦æˆ·
                                </button>
                            </div>
                        </div>
                    </form>

                    <!-- Social Login -->
                    <div class="mt-4 sm:mt-6">
                        <div class="relative text-center my-3 sm:my-4">
                            <div class="absolute inset-0 flex items-center">
                                <div class="w-full border-t border-mystic-gold/20"></div>
                            </div>
                            <div class="relative bg-black px-3 sm:px-4">
                                <span class="text-moon-silver/60 text-xs sm:text-sm">æˆ–</span>
                            </div>
                        </div>

                        <div class="space-y-2 sm:space-y-3">
                            <button id="modalGoogleLogin"
                                class="w-full bg-white/10 border border-white/20 text-warm-white py-2.5 sm:py-3 rounded-lg hover:bg-white/20 transition-all flex items-center justify-center text-sm sm:text-base">
                                <i class="fab fa-google mr-2 sm:mr-3 text-base sm:text-lg"></i>
                                <span class="hidden xxs:inline">ä½¿ç”¨ Google è´¦æˆ·ç™»å…¥</span>
                                <span class="xxs:hidden">Google</span>
                            </button>

                            <button id="modalGithubLogin"
                                class="w-full bg-gray-800/50 border border-gray-600/30 text-warm-white py-2.5 sm:py-3 rounded-lg hover:bg-gray-700/50 transition-all flex items-center justify-center text-sm sm:text-base">
                                <i class="fab fa-github mr-2 sm:mr-3 text-base sm:text-lg"></i>
                                <span class="hidden xxs:inline">ä½¿ç”¨ GitHub è´¦æˆ·ç™»å…¥</span>
                                <span class="xxs:hidden">GitHub</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Supabase Integration -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabase-client.js"></script>
    <script src="supabase-init.js"></script>

    <script src="api-config.js"></script>

    <!-- æ”¯ä»˜ç³»ç»Ÿ -->
    <script src="https://js.stripe.com/v3/"></script>
    <script src="stripe-client-enhanced.js?v=2"></script>
    <script src="subscription-manager.js?v=2"></script>
    <script src="shop-service.js?v=2"></script>

    <script src="main.js"></script>
    <script src="header-auth.js"></script>

    <!-- è®¤è¯ç³»ç»Ÿ -->
    <script src="auth-service.js"></script>

    <!-- ç”¨æˆ·èœå•ç³»ç»Ÿ -->
    <script src="user-menu.js"></script>
    <script>
        // æ³¨å†Œ Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(reg => console.log('[SW] Registered'))
                    .catch(err => console.log('[SW] Failed', err));
            });
        }
    </script>
</body>

</html>